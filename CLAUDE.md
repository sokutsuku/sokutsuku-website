# CLAUDE.md - SOKUTSUKUプロジェクト

このファイルは、Claude Code用のプロジェクト設定とルールを定義します。

## 📋 プロジェクト概要

**SOKUTSUKU（速創）**は、生成AIを活用した次世代の受託開発事業です。
「発想を、10倍速でかたちに」をモットーに、AI時代における開発パートナーとして活動します。

## 🎯 開発方針

### 1. 必須参照ファイル
開発時は必ず以下のファイルを参照してください：
- **`DESIGN-RULE.md`**: デザインシステムとカラールール（最優先で確認）
- **`README.md`**: プロジェクト全体の概要

### 2. 技術スタック
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS + shadcn/ui
- **Theme**: カスタムダーク/ライトモード切り替え

### 3. ディレクトリ構成
```
src/
├── app/          # Next.js App Router
├── components/   # 共通コンポーネント
├── data/         # 静的データ
├── lib/          # ユーティリティ
└── types/        # TypeScript型定義
```

### 4. コーディング規則
- コンポーネントは必ず TypeScript で記述
- shadcn/ui コンポーネントを優先的に使用
- カスタムカラーは **DESIGN-RULE.md で定義されたもののみ使用**
- 日本語コメントでコードの意図を明確に
- **🚨 変更確認ルール**: 既存の実装を変更する場合は、必ずユーザーに確認を取ってから実行する

#### ESLintエラー回避ルール
- **未使用変数**: 使用しない変数は `_` で置き換える（例：`const [, setLoading] = useState(false)`）
- **未使用インポート**: 使用しないimportは必ず削除する
- **エスケープ文字**: JSX内の引用符は `&quot;` でエスケープする
- **空のinterface**: `interface Props {}` ではなく `type Props = {}` を使用する
- **Next.js 15対応**: 動的ルートのparamsは `Promise<{}>` 型で非同期処理する

### 5. デザインルール
- **カラーシステム**: DESIGN-RULE.md に定義されたブランドカラーとニュートラルカラーを使用
- **テーマ**: ダークモード/ライトモードの2択
- **スペーシング**: 定義されたスペーシングスケールを使用
- **タイポグラフィ**: Bebas Neue（英語）、DM Sans（英語UI）、Noto Sans JP（日本語）を使用
- **🚨 テーマ対応必須**: 全てのコンポーネントでダークモード・ライトモード両方に対応

### 6. ページ構成
```
/ (トップ)
/services (サービス紹介)
/works (実績紹介)
/works/[slug] (実績詳細)
/about (私たちについて)
/faq (よくある質問)
/privacy-policy (プライバシーポリシー)
/terms (利用規約)
```

### 7. 特別な機能
- **テーマ切り替え**: ThemeProvider + ThemeToggle でダーク/ライトモード切り替え
- **お問い合わせ**: 独立ページではなく、スライドパネルで実装予定
- **スクロール制御**: 画面を超えるスクロールは禁止（h-screen + overflow-hidden）

## 🚀 開発時の注意点

1. **デザインルール厳守**: 新しいカラーやスペーシングを追加する場合は、DESIGN-RULE.md を更新
2. **コンポーネント再利用**: 同じようなUIは必ず共通コンポーネント化
3. **型安全性**: TypeScript の型定義を厳密に使用
4. **アクセシビリティ**: shadcn/ui のアクセシビリティ機能を活用
5. **🚨 テーマ対応必須**: 全てのコンポーネントでダークモード・ライトモード両方を実装

## 🎨 ブランドアイデンティティ

### コアメッセージ
- **「発想を、10倍速でかたちに」**
- **「Less is More（最小の資源で、最大の価値を）」**
- **「生成AIネイティブな開発チーム」**

### キーワード
- 速創（SOKUTSUKU）
- 生成AI
- 機会損失との戦い
- 本質的価値創造
- AI時代の開発パートナー

## 📝 作業時のチェックリスト

**🚨 作業開始前に必ず確認**
- [ ] **DESIGN-RULE.md を最初に確認したか？** （カラーシステム・スペーシング・コンポーネント仕様）
- [ ] 使用するカラーコードは DESIGN-RULE.md で定義されているか？
- [ ] 新しいコンポーネントを作成する場合、既存の定義と一致しているか？

**開発中の確認**
- [ ] 型定義は適切に設定されているか？
- [ ] shadcn/ui コンポーネントを活用しているか？
- [ ] **🚨 ダークモード・ライトモード両方で正しく動作するか？**
- [ ] レスポンシブデザインに対応しているか？
- [ ] スクロール動作は適切か？（画面を超えるスクロールは禁止）
- [ ] 適切なフォントが適用されているか？（英語：Bebas Neue/DM Sans、日本語：Noto Sans JP）
- [ ] **🚨 背景色は完全に不透明か？**（`bg-background`ではなく`bg-white dark:bg-[色]`形式を使用）

**完了前の確認**
- [ ] DESIGN-RULE.md のブランドアイデンティティに沿っているか？
- [ ] **🚨 全てのカラーがテーマ切り替えに対応しているか？**
- [ ] テーマ切り替え時にスタイルが破綻していないか？
- [ ] オーバーレイ要素（モーダル、メニュー等）で背景が透けていないか？
- [ ] **🚨 ESLintエラーがないか？** (`npm run build` で確認)

## 🔧 重要なルール

### カラー使用ルール
- **必須**: DESIGN-RULE.md で定義されたカラーのみ使用
- **禁止**: 独自のカラーコードを直接指定
- **推奨**: HSL形式での色指定（テーマ切り替え対応）

### 背景色の設定ルール
- **🚨 重要**: `bg-background`はCSS変数のため透過される可能性がある
- **正しい方法**: `bg-white dark:bg-[#色]`形式で明示的に指定
- **理由**: オーバーレイ要素（モーダル、メニュー等）で背景が透けることを防ぐ
- **チェック**: 背景の後ろのコンテンツが透けて見えていないか必ず確認

### レイアウトルール
- **必須**: 画面を超えるスクロールは禁止
- **推奨**: コンテンツが多い場合は内側でスクロール
- **必須**: レスポンシブデザイン対応

### 過去の重要なミス
- **モバイルメニューの透過問題**: `bg-background`使用により背景が透けた → `bg-white dark:bg-[色]`で解決
- **原因**: CSS変数の仕組みを理解せず、単純な背景色設定と勘違い
- **教訓**: オーバーレイ要素では必ず不透明な背景色を明示的に指定する

---

*最終更新: 2025-07-20*